# Application
HTTP_PORT=:8080                 # HTTP listen address (e.g. :8080 or 0.0.0.0:8080)
APP_MODE=dev                    # dev | prod
FIBER_PREFORK=false             # true / false

# ClickHouse connection
CLICKHOUSE_ADDRS=localhost:9000 # Comma-separated: host1:9000,host2:9000
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=            # Set in your local .env, keep empty in .env.sample
CLICKHOUSE_DB=default
CLICKHOUSE_TLS=false            # Enable TLS for ClickHouse: true / false

# Connection pool
DB_MAX_CONNS=50
DB_MIN_CONNS=10
DB_MAX_CONN_LIFETIME=30m        # Go duration: 30s, 5m, 1h ...
DB_MAX_CONN_IDLE_TIME=5m

# Event time handling
FUTURE_TOLERANCE=0s             # Allowed tolerance for future timestamps (e.g. 2s, 500ms)

# Worker / ingestion
WORKER_BUFFER_SIZE=10000        # In-memory queue size for workers
WORKER_BATCH_SIZE=1000          # Number of events per ClickHouse batch
WORKER_FLUSH_EVERY=1s           # Flush interval even if batch is not full

# Healthcheck
DB_PING_RETRIES=20
DB_PING_DELAY=1500ms            # Delay between DB ping retries
